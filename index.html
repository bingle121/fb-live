<!DOCTYPE html>
<html>

<head>
    <title>FB Live</title>

    <style>
        html {
            height: 100%;
        }

        body {
            height: 100%;
            margin: 0;
            text-align: center;
            background: #222;
        }

        h1 {
            color: white;
        }

        div {
            position: relative;
            display: inline-block;
            width: calc(43%);
            /* height: calc(50% - 5px); */
            padding-top: calc(56.25% * 0.43);
        }

        div>iframe {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
        }

        div>a {
            position: absolute;
            right: 10px;
            bottom: 0;
            font-size: 25px;
            color: white;
            text-decoration: none;
        }

        .plus {
            position: fixed;
            right: 10px;
            bottom: 10px;
        }

        .minus {
            position: absolute;
            right: 10px;
            top: 10px;
            z-index: 10;
            color: red;
        }
    </style>

    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.6.3/css/all.css"
        integrity="sha384-UHRtZLI+pbxtHCWp1t77Bi1L4ZtiqrqD80Kn4Z8NTSRyMA2Fd33n5dQ8lWUE00s/" crossorigin="anonymous">
</head>

<body>

    <script src="https://code.jquery.com/jquery-2.2.4.min.js"
        integrity="sha256-BbhdlvQf/xTY9gja0Dq3HiwQF8LaCRTXxZKRutelT44=" crossorigin="anonymous"></script>

    <script>
        window.onload = function () {
            initLive()
        };

        function initLive() {
            var fbLives = JSON.parse(localStorage.getItem("fbLives"));
            console.log("fb-lives: ", fbLives)
            for (link of fbLives) {
                console.log(link)
                if (link != null) {
                    var element = document.createElement("div");
                    element.innerHTML = `
                        <button type="button" class="minus" onclick="removeLive(this)">
                            <i class="fas fa-minus fa-1x"></i>
                        </button>
                        <iframe
                            id = "${link}"
                            src = "https://www.facebook.com/plugins/video.php?href=${link}"
                            width = "100%" height = "100%" style = "border:none;overflow:hidden" scrolling = "no" frameborder = "0"
                            allowTransparency = "true" allowFullScreen = "true" webkit - playsinline ></iframe >
                    `

                    var first_hardcode = document.getElementById("first_hardcode");
                    document.body.insertBefore(element, first_hardcode);
                }
            }
        }

        function addLive() {
            var link = prompt("Please enter the Facebook link");
            if (link != null) {
                var element = document.createElement("div");
                element.innerHTML = `
                    <button type="button" class="minus" onclick="removeLive(this)">
                        <i class="fas fa-minus fa-1x"></i>
                    </button>
                    <iframe
                        id = "${link}"
                        src = "https://www.facebook.com/plugins/video.php?href=${link}"
                        width = "100%" height = "100%" style = "border:none;overflow:hidden" scrolling = "no" frameborder = "0"
                        allowTransparency = "true" allowFullScreen = "true" webkit - playsinline ></iframe >
                `

                var first_hardcode = document.getElementById("first_hardcode");
                document.body.insertBefore(element, first_hardcode);


                var fbLives = JSON.parse(localStorage.getItem("fbLives")) || [];
                fbLives.push(link)
                localStorage.setItem("fbLives", JSON.stringify(fbLives));
            }
        }

        function removeLive(element) {
            var liveElement = element.parentElement;
            var link = liveElement.getElementsByTagName("iframe")[0].getAttribute("id")
            document.body.removeChild(liveElement)

            var fbLives = JSON.parse(localStorage.getItem("fbLives")) || [];
            var index = fbLives.indexOf(link)
            if (index > -1) {
                fbLives.splice(index, 1);
            }
            localStorage.setItem("fbLives", JSON.stringify(fbLives));
        }

    </script>


    <button type="button" class="plus" onclick="addLive()">
        <i class="fas fa-plus fa-3x"></i>
    </button>

    <div id="first_hardcode">
        <iframe
            src="https://www.facebook.com/plugins/video.php?href=https://www.facebook.com/hk.nextmedia/videos/893853284296503/"
            width="100%" height="100%" style="border:none;overflow:hidden" scrolling="no" frameborder="0"
            allowTransparency="true" allowFullScreen="true" webkit-playsinline></iframe>
    </div>

    <h1>History - 12/6</h1>

    <div>
        <iframe
            src="https://www.facebook.com/plugins/video.php?href=https%3A%2F%2Fwww.facebook.com%2Fstandnewshk%2Fvideos%2F1021334261397927%2F"
            width="100%" height="100%" style="border:none;overflow:hidden" scrolling="no" frameborder="0"
            allowTransparency="true" allowFullScreen="true" webkit-playsinline></iframe>
    </div>

    <div>

        <iframe
            src="https://www.facebook.com/plugins/video.php?href=https%3A%2F%2Fwww.facebook.com%2Fhk01.news%2Fvideos%2F501913847215858%2F"
            width="100%" height="100%" style="border:none;overflow:hidden" scrolling="no" frameborder="0"
            allowTransparency="true" allowFullScreen="true" webkit-playsinline></iframe>
    </div>

    <div>
        <iframe
            src="https://www.facebook.com/plugins/video.php?href=https%3A%2F%2Fwww.facebook.com%2FRTHKVNEWS%2Fvideos%2F2324211454330396%2F"
            width="100%" height="100%" style="border:none;overflow:hidden" scrolling="no" frameborder="0"
            allowTransparency="true" allowFullScreen="true" webkit-playsinline></iframe>
    </div>

    <div>
        <iframe
            src="https://www.facebook.com/plugins/video.php?href=https%3A%2F%2Fwww.facebook.com%2Fhk01.news%2Fvideos%2F468982037184452%2F"
            width="100%" height="100%" style="border:none;overflow:hidden" scrolling="no" frameborder="0"
            allowTransparency="true" allowFullScreen="true" webkit-playsinline></iframe>
    </div>

    <div>
        <iframe
            src="https://www.facebook.com/plugins/video.php?href=https%3A%2F%2Fwww.facebook.com%2Fhk.nextmedia%2Fvideos%2F428666311317576%2F"
            width="100%" height="100%" style="border:none;overflow:hidden" scrolling="no" frameborder="0"
            allowTransparency="true" allowFullScreen="true"></iframe>
    </div>

    <h1>History - 9/6</h1>
    <div>
        <iframe
            src="https://www.facebook.com/plugins/video.php?href=https%3A%2F%2Fwww.facebook.com%2FRTHKVNEWS%2Fvideos%2F2203971833043117%2F"
            width="100%" height="100%" style="border:none;overflow:hidden" scrolling="no" frameborder="0"
            allowTransparency="true" allowFullScreen="true"></iframe>
    </div>


    <div>
        <iframe
            src="https://www.facebook.com/plugins/video.php?href=https%3A%2F%2Fwww.facebook.com%2Ficablenews%2Fvideos%2F345490309480440%2F"
            width="100%" height="100%" style="border:none;overflow:hidden" scrolling="no" frameborder="0"
            allowTransparency="true" allowFullScreen="true"></iframe>
    </div>


    <div>
        <iframe
            src="https://www.facebook.com/plugins/video.php?href=https%3A%2F%2Fwww.facebook.com%2Fstandnewshk%2Fvideos%2F1026659897536769%2F"
            width="100%" height="100%" style="border:none;overflow:hidden" scrolling="no" frameborder="0"
            allowTransparency="true" allowFullScreen="true"></iframe>
    </div>


    <div>
        <iframe
            src="https://www.facebook.com/plugins/video.php?href=https%3A%2F%2Fwww.facebook.com%2Fhk.nextmedia%2Fvideos%2F1946185982152686%2F"
            width="100%" height="100%" style="border:none;overflow:hidden" scrolling="no" frameborder="0"
            allowTransparency="true" allowFullScreen="true"></iframe>
    </div>


</body>

</html>